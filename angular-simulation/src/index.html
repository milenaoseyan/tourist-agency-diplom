<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TravelWave - –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ</title>
    
    <!-- SEO –º–µ—Ç–∞-—Ç–µ–≥–∏ -->
    <meta name="description" content="TravelWave - –ª—É—á—à–∏–µ —Ç—É—Ä—ã –ø–æ –≤—ã–≥–æ–¥–Ω—ã–º —Ü–µ–Ω–∞–º. –ë–æ–ª–µ–µ 500 –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É. –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—É—Ä–æ–≤ –æ–Ω–ª–∞–π–Ω.">
    <meta name="keywords" content="—Ç—É—Ä—ã, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è, –æ—Ç–¥—ã—Ö, —Ç—É—Ä–∞–≥–µ–Ω—Ç—Å—Ç–≤–æ, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—É—Ä–æ–≤">
    <meta name="author" content="TravelWave">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚úàÔ∏è</text></svg>">
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style" href="styles.css">
    
    <!-- Manifest –¥–ª—è PWA -->
    <link rel="manifest" href="app.webmanifest">
    
    <!-- –¢–µ–º–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö -->
    <meta name="theme-color" content="#3f51b5">
    
    <!-- iOS –º–µ—Ç–∞-—Ç–µ–≥–∏ -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TravelWave">
    
    <!-- Windows –º–µ—Ç–∞-—Ç–µ–≥–∏ -->
    <meta name="msapplication-TileColor" content="#3f51b5">
    
    <!-- Open Graph –¥–ª—è —Å–æ—Ü. —Å–µ—Ç–µ–π -->
    <meta property="og:title" content="TravelWave - –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ">
    <meta property="og:description" content="–õ—É—á—à–∏–µ —Ç—É—Ä—ã –ø–æ –≤—ã–≥–æ–¥–Ω—ã–º —Ü–µ–Ω–∞–º. –ë—Ä–æ–Ω–∏—Ä—É–π—Ç–µ –æ–Ω–ª–∞–π–Ω!">
    <meta property="og:image" content="https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80">
    <meta property="og:url" content="https://travelwave.ru">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="TravelWave - –¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ">
    <meta name="twitter:description" content="–õ—É—á—à–∏–µ —Ç—É—Ä—ã –ø–æ –≤—ã–≥–æ–¥–Ω—ã–º —Ü–µ–Ω–∞–º. –ë—Ä–æ–Ω–∏—Ä—É–π—Ç–µ –æ–Ω–ª–∞–π–Ω!">
</head>
<body>
    <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div class="page-load-progress">
        <div class="progress-bar"></div>
    </div>
    
    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div id="app"></div>
    
    <!-- Service Worker —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -->
    <script>
        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker –¥–ª—è PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js').then(registration => {
                    console.log('ServiceWorker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:', registration.scope);
                }).catch(error => {
                    console.log('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ServiceWorker:', error);
                });
            });
        }
        
        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö
        document.addEventListener('contextmenu', function(e) {
            if (e.target.nodeName === 'IMG') {
                e.preventDefault();
            }
        });
    </script>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <script type="module">
        import AppComponent from './app/app.component.js';
        import AppInitializer from './app/app.init.js';
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏
        const progressBar = document.querySelector('.progress-bar');
        const progressContainer = document.querySelector('.page-load-progress');
        
        // –°–∏–º—É–ª—è—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏
        let progress = 0;
        const progressInterval = setInterval(() => {
            progress += Math.random() * 20;
            if (progress >= 90) {
                clearInterval(progressInterval);
                progress = 90;
            }
            progressBar.style.width = progress + '%';
        }, 100);
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        async function initializeApp() {
            try {
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
                await AppInitializer.init();
                
                // –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–Ω–¥–µ—Ä –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
                const app = new AppComponent();
                
                function renderApp() {
                    document.getElementById('app').innerHTML = app.render();
                    setTimeout(() => {
                        app.afterRender();
                        // –ó–∞–≤–µ—Ä—à–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏
                        progressBar.style.width = '100%';
                        setTimeout(() => {
                            progressContainer.style.opacity = '0';
                            setTimeout(() => {
                                progressContainer.style.display = 'none';
                            }, 300);
                        }, 300);
                    }, 100);
                }
                
                // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä
                renderApp();
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π hash
                window.addEventListener('hashchange', renderApp);
                
                // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Å—ã–ª–∫–∞–º
                document.addEventListener('click', (e) => {
                    if (e.target.tagName === 'A' && e.target.getAttribute('href')?.startsWith('#')) {
                        e.preventDefault();
                        window.location.hash = e.target.getAttribute('href');
                    }
                });
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥
                window.addEventListener('popstate', renderApp);
                
                console.log('‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ!');
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:', error);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –æ—à–∏–±–∫–∏
                document.getElementById('app').innerHTML = `
                    <div class="error-screen">
                        <div class="error-icon">üòî</div>
                        <h2>–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫</h2>
                        <p>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.</p>
                        <button onclick="window.location.reload()" class="btn btn-primary">
                            –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
                        </button>
                    </div>
                `;
                
                // –°–∫—Ä—ã–≤–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
                progressContainer.style.display = 'none';
            }
        }
        
        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫–æ–≥–¥–∞ DOM –∑–∞–≥—Ä—É–∂–µ–Ω
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeApp);
        } else {
            initializeApp();
        }
    </script>
    
    <!-- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) -->
    <script>
        // –ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
        window.addEventListener('load', () => {
            // –õ–æ–≥–∏—Ä—É–µ–º –ø–æ—Å–µ—â–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            console.log('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞:', {
                url: window.location.href,
                userAgent: navigator.userAgent,
                screen: `${window.innerWidth}x${window.innerHeight}`
            });
        });
    </script>
</body>
</html>